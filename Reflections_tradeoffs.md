<img width="351" height="200" alt="image" src="https://github.com/user-attachments/assets/6325850f-9b4e-4a3d-b144-78e499721bd7" />

# Пропозиції та думки по проєкту (Tradeoffs)

Коли я почав думати над виріщенням цього тз, в мене було декілька варінтів як це реалізувати, тому вирішив зібрати тут ідеї, чому я обрав певні рішення, і що можна було б зробити інакше. Наша головна мета це стабільна система, яка зможе легко масштабуватися з 1 до 10 мікросервісів. 
Але я маю  декілька tradeoffs)

Я зупинився на стандарті - AWS + Kubernetes для всього (фронтенд, бекенд, мікросервіси)

**Плюси** цього варіанту в тому що все побудовано на одній єдиній платформі платформа — все в K8s ( деплої, скейлінг (HPA), networking (Ingress/Services) однакові для фронту (Next.js), беку (REST API) і мікросервісів) 
Мікросервіси легко ростуть до 10 з автосейлінг. Інтеграція з AWS та ми отримуємо все готове, без лишньої запари

**Мінуси** - EKS коштує не дешево, + EC2 ноди, це достатньо дорого і може бути overkill :(

Підійде ідеально якщо проєкт буде рости, і дозволяє бюджет.

# Альтернатива 1 : Фронтенд на S3 + CloudFront, бекенд і мікросервіси в K8s
**Плюси** - це дешевше і простіше для фронту — без контейнерів, CI/CD пушить файли в S3. CloudFront швидкий для статичного контенту. 
**Мінуси** - Якщо фронт динамічний  - не підійде

Зменшуємо витрати на 20-30% для фронту, але додаємо ще один s3. Варто заюзати якщо фронт не змінюється часто.


# Альтернатива 2 : Hetzner + Docker swarm для економії

Якщо клієнту критична економія коштів, можна взяти сервери на Hetzner замість AWS та взяти Docker Swarm замість K8s , бо з 10 мікросервісами Swarm вистачить з головою.

**Плюси** - Hetzner в 2-3 рази дешевший за aws. Swarm легший за кубер

Для мікросервісів - scaling services, Фронт/бек теж в Swarm.

Велика економія , приюлизно на 50% , але менша scalability і HA. Варто юзати якщо бюджет обмежений і проєкт не великий.

**Мінуси**  — сам керуєш VM, бекапами та іншим. 

Swarm не такий потужний як кубер, немає HPA та інгрес трохи складніший. 

Якщо буде потрібно >10 сервісів, мігрувати в K8s  може бути боляче



**Заключні думки**

Основний варіант з AWS + K8s — стабільний і гнучкий і базовий, але якщо клієнту треба буде зекономити - пропоную Hetzner + сворм або s3 для фронту. 

Головне це оцінити потреби) 
Якщо мікросервіси прості і не ростуть швидко, простіший стек кращий. Можна почати з Swarm, потім мігрувати за потреби. Краще завжди мати декілька альтернатив і обирати з чогось, ніж "роблю бо тільки так вмію" )))
Також булоб цікаво з вами *(той хто читає це, тім лід чи сенйор)* обговорити цю тему :)

**Варіант з хетзнером виник тому що колись в мене було завдання перенести проєкт (телеграм бота) з dev сервера (з одним докеркомпоузом на все) на прод - 4 сервера (1. адмінка + django + nginx + redis, 2. БД , 3. Воркер нода Celery, 4. Друга воркер нода Celery).
Я вирішив зробити це на хетзнер так як важлива була економія і заюзав сворм , тому що з кубера сенсу великого не було, а робити просто компоуз файли на кожному сервері це костиль. Тут в цілому щось схоже на те що було в тому проєкті, думаю булоб реалістично зробити теж таким шляхом якщо важлива була б економія грошей та часу розгортання, бо сворм швидше розгортається ніж кубер.**
